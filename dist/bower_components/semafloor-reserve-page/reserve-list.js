"use strict";Polymer({is:"reserve-list",properties:{name:{type:String,value:"forever"},count:{type:Number,value:99,notify:!0},_reservations:{type:Object,value:function(){return[]}},_selectedIdx:{type:Number,value:0},_selectedItem:{type:Object,value:function(){return{}}},_isPhone:{type:Boolean,value:!1},_isDesktop:{type:Boolean,value:!1},_msg:{type:String,value:""},_hideUndo:{type:Boolean,value:!1},_location:{type:String,value:""}},observers:["_onQueryChanged(_isPhone, _isDesktop)","_updateFirebaseLocation(name)"],attached:function(){this.updateListStyles(this._isPhone,this._isDesktop),this.updateList();var e=this.$.optionsDialog;e.animationConfig={entry:{name:"transform-animation",node:e,transformFrom:"translateY(100%)",transformTo:"translateY(0)"},exit:{name:"transform-animation",node:e,transformFrom:"translateY(0)",transformTo:"translateY(100%)"}}},_onFirebaseValue:function(e){this.set("count",e.detail.val().length),this.set("_reservations",e.detail.val()),this.fire("data-ready",this.name)},_updateFirebaseLocation:function(e){this.set("_location","https://semafloor-webapp.firebaseio.com/json/"+e+"-booking")},_isExpanded:function(e){return"opened"+e},_isCollapsible:function(e){return"collapse"+e},_toggle:function(e){var t=e.target;if("IRON-ICON"!==t.tagName&&(t=t.parentElement,t&&t.hasAttribute("aria-controls"))){t=this.$$("#"+t.getAttribute("aria-controls"));var s=t.classList.contains("opened");t&&(s?t.classList.remove("opened"):t.classList.add("opened"),this.$.reserveList.updateSizeForItem(e.model.index),this.async(function(){this.updateList()}))}},updateListStyles:function(e,t){var s=e?"50%":t?"25%":"33%";(this.domHost||Polymer).updateStyles({"--collapsible-item-width":s})},updateList:function(){this.$.reserveList.fire("iron-resize")},_onQueryChanged:function(e,t){this.updateListStyles(e,t),this.updateList()},_isObject:function(e){return _.isObject(e)?e.tStart+" - "+e.tEnd:e},_optionsMenu:function(e){for(var t=e.target;t&&"PAPER-ICON-BUTTON"!==t.tagName;)t=t.parentElement;this.set("_selectedIdx",e.model.index),this.set("_selectedItem",e.model.item),this.$.optionsDialog.open()},_removeItem:function(e){this._dismissOptions(),this._openReserveToast("The selected item has been removed.",!1)},_dismissOptions:function(){this.$.optionsDialog.close()},_openReserveToast:function(e,t){var s=this.$.reserveToast;s.opened&&s.close(),this.toggleClass("undo-remove",t,s),this.set("_hideUndo",t),this.set("_msg",e),this.async(function(){s.open()})},_undoItemRemoval:function(){this._openReserveToast("Removed item has been restored!",!0)}});