<link rel="import" href="../../polymer/polymer.html"><link rel="import" href="../../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="import" href="../app-scroll-behaviors/app-custom-scroller-behavior.html"><script>Polymer.AppScrollEffectsBehavior=[Polymer.AppCustomScrollerBehavior,Polymer.IronResizableBehavior,{properties:{effects:{type:String,value:""},effectsConfig:{type:Object,value:function(){return{}}},noTransitions:{type:Boolean,reflectToAttribute:!0}},observers:["_effectsChanged(effects, effectsConfig)"],listeners:{"iron-resize":"_resizeHandler"},_updateScrollState:function(){},isOnScreen:function(){return!1},isContentBelow:function(){return!1},setup:function(){},_effectsRunFn:null,_effects:null,get _clampedScrollTop(){return Math.max(0,this._scrollTop)},created:function(){this._effectsRunFn=[],this._effects=[]},attached:function(){this.debounce("_setup",this.setup,1)},detached:function(){this._tearDownEffects()},effect:function(e,t){if(!Polymer.AppScrollEffects)throw new ReferenceError("undefined Polymer.AppScrollEffects");var n=Polymer.AppScrollEffects[e];if(!n)throw new ReferenceError("undefined effect `"+e+"`");var f=this._boundEffect(n,t||{});return f.setUp(),f},_effectsChanged:function(e,t){this._tearDownEffects(),""!==e&&(e.split(" ").forEach(function(e){var n;""!==e&&((n=Polymer.AppScrollEffects[e])?this._effects.push(this._boundEffect(n,t[e])):this._warn(this._logf("_effectsChanged","undefined effect `",e,"`")))},this),this._setUpEffect())},_layoutIfDirty:function(){return this.offsetWidth},_boundEffect:function(e,t){t=t||{};var n=parseFloat(t.startsAt||0),f=parseFloat(t.endsAt||1),s=f-n,r=Function(),c=0===n&&1===f?e.run:function(t,f){e.run.call(this,Math.max(0,(t-n)/s),f)};return{setUp:e.setUp?e.setUp.bind(this,t):r,run:e.run?c.bind(this):r,tearDown:e.tearDown?e.tearDown.bind(this):r}},_setUpEffect:function(){this.isAttached&&(this._effectsRunFn=[],this._effects.forEach(function(e){e.setUp()!==!1&&this._effectsRunFn.push(e.run)},this))},_tearDownEffects:function(){this._effects.forEach(function(e){e.tearDown()}),this._effectsRunFn=[],this._effects=[]},_runEffects:function(e,t){this._effectsRunFn.forEach(function(n){n(e,t)})},_resizeHandler:function(e){this.debounce("_resize",this.setup,100)},_scrollHandler:function(){this._updateScrollState(this._clampedScrollTop)}}],Polymer.AppScrollEffects=Polymer.AppScrollEffects||{};</script>